---
id: scd:project:scs-specification
tier: project
version: "1.0.0"
title: "SCS Specification Format"
description: "The structure of SCDs, bundles, tiers, and validation"

provenance:
  created_by: "Tim McCrimmon"
  created_at: "2026-01-10T00:00:00Z"
  rationale: "Document the SCS specification format and structure"

content:
  specification_version: "v0.3"

  core_concepts:
    scds:
      name: "Structured Context Documents"
      description: "YAML files containing actual structured content"
      format: "scd:<tier>:<name>"
      examples:
        - "scd:meta:scd-meta"
        - "scd:standards:chai-adherence"
        - "scd:project:company-overview"
      location: "Live inside bundles in the scds array"

    bundles:
      name: "Bundles"
      description: "Manifests that organize and compose SCDs"
      format: "bundle:<name>:<version>"
      examples:
        - "bundle:meta:1.0.0"
        - "bundle:acme-company-context:1.0.0"
        - "bundle:prior-auth-app:1.0.0"
      purpose: "Composable, versioned collections of context"

    tiers:
      description: "Hierarchical organization of content"
      types:
        - name: "meta"
          purpose: "SCS specification language itself"
          examples: ["scd-format", "bundle-format", "validation-rules"]

        - name: "standards"
          purpose: "External compliance requirements"
          examples: ["HIPAA rules", "SOC2 controls", "CHAI guidelines"]

        - name: "project"
          purpose: "Company/project-specific context"
          examples: ["Architecture", "Conventions", "Domain knowledge"]

  scd_structure:
    required_fields:
      - name: "id"
        format: "scd:<tier>:<name>"
        example: "scd:project:architecture-patterns"

      - name: "tier"
        values: ["meta", "standards", "project"]
        description: "Classification of content type"

      - name: "version"
        format: "Semantic versioning (X.Y.Z)"
        example: "1.0.0"

      - name: "title"
        description: "Human-readable title"

      - name: "description"
        description: "Brief explanation of SCD purpose"

      - name: "content"
        description: "The actual structured content (YAML)"

    optional_fields:
      - name: "provenance"
        fields: ["created_by", "created_at", "rationale"]

      - name: "metadata"
        description: "Additional context about the SCD"

    example_scd:
      yaml: |
        ---
        id: scd:project:architecture-patterns
        tier: project
        version: "1.0.0"
        title: "Architecture Patterns"
        description: "Standard architectural patterns for our projects"

        provenance:
          created_by: "Chief Architect"
          created_at: "2026-01-10T00:00:00Z"
          rationale: "Define consistent patterns across all projects"

        content:
          patterns:
            - name: "Clean Architecture"
              description: "Separation of concerns with dependency inversion"
              when_to_use: "Complex business logic requiring testability"

            - name: "REST API"
              description: "Standard HTTP REST patterns"
              when_to_use: "Public-facing APIs"

  bundle_structure:
    required_fields:
      - name: "id"
        format: "bundle:<name>"
        example: "bundle:acme-company-context"

      - name: "type"
        values: ["meta", "standards", "domain", "concern", "project"]
        description: "Bundle type classification"

      - name: "version"
        format: "Semantic versioning or DRAFT"
        examples: ["DRAFT", "1.0.0", "2.1.3"]

      - name: "title"
        description: "Human-readable title"

      - name: "description"
        description: "Brief explanation of bundle purpose"

      - name: "scds"
        description: "Array of SCD IDs this bundle contains"
        example: ["scd:project:architecture", "scd:project:conventions"]

      - name: "imports"
        description: "Array of bundle IDs this bundle imports"
        example: ["bundle:acme-architecture:1.0.0"]

    optional_fields:
      - name: "provenance"
        fields: ["created_by", "created_at", "rationale"]

      - name: "metadata"
        description: "Additional context about the bundle"

    example_bundle:
      yaml: |
        ---
        id: bundle:my-project
        type: project
        version: "1.0.0"
        title: "My Project Context"
        description: "Structured context for my project"

        scds:
          - scd:project:architecture
          - scd:project:tech-stack
          - scd:project:conventions

        imports:
          - bundle:react-patterns:1.0.0
          - bundle:typescript-conventions:1.0.0

        provenance:
          created_by: "Tech Lead"
          created_at: "2026-01-10T00:00:00Z"
          rationale: "Define project context for AI systems"

  bundle_types:
    meta:
      type: "meta"
      imports: "None (foundation layer)"
      contains: "Meta-tier SCDs only"

    standards:
      type: "standards"
      imports: "Can import other standards"
      contains: "Standards-tier SCDs only"

    domain:
      type: "domain"
      imports: "MUST import ≥1 concern bundle"
      contains: "NO SCDs directly (aggregation only)"

    concern:
      type: "concern"
      imports: "MUST be empty (leaf nodes)"
      contains: "MUST have ≥1 project-tier SCD"

    project:
      type: "project"
      imports: "Typically imports domain bundle"
      contains: "Project-tier SCDs"

  validation_philosophy:
    loose_validation:
      phase: "Phase 1 (Intent/DRAFT)"
      validates:
        - "YAML structure"
        - "Required bundle fields"
        - "Tier organization"
      does_not_validate:
        - "Required fields in SCD content"
        - "Content completeness"
      rationale: |
        Supports spectrum from minimal to full disclosure. Organization decides what to
        share. Enables exploration without rigid constraints.

    strict_validation:
      phase: "Phase 2 (Versioned)"
      validates:
        - "All structural checks"
        - "Import graph validity"
        - "Version format (semantic versioning)"
        - "No circular dependencies"
        - "Bundle type constraints"
      result: "Immutable once published"

  composability:
    description: "Bundles can import other bundles, creating dependency graphs"

    example:
      project_bundle: "bundle:my-app:1.0.0"
      imports:
        - "bundle:company-standards:1.0.0"
        - "bundle:react-patterns:1.0.0"

      result: |
        When my-app is loaded, all SCDs from my-app, company-standards, and react-patterns
        are combined and provided to the AI system.

    precedence_rules:
      description: "When SCDs conflict, precedence determines which wins"
      order:
        - "Project bundles (highest precedence)"
        - "Domain bundles"
        - "Concern bundles"
        - "Standards bundles"
        - "Meta bundles (lowest precedence)"

  versioning:
    semantic_versioning:
      format: "MAJOR.MINOR.PATCH"
      rules:
        major: "Incompatible API changes"
        minor: "Add functionality (backwards compatible)"
        patch: "Bug fixes (backwards compatible)"

    draft_version:
      value: "DRAFT"
      meaning: "Work in progress, not yet versioned"
      usage: "Phase 1 (Intent) bundles use DRAFT"

    immutability:
      rule: "Once a bundle is versioned (1.0.0, etc.), it becomes immutable"
      updates: "Create new version (1.0.1, 2.0.0, etc.)"
      rationale: "Ensures reproducibility and audit trail"

  git_integration:
    description: "SCS is designed to work with git version control"

    workflow:
      - "Create bundles and SCDs (YAML files)"
      - "Commit to git repository"
      - "Version bundles when ready (DRAFT → 1.0.0)"
      - "Git tag for releases"
      - "Git history = bundle history"

    benefits:
      - "Standard version control workflows"
      - "Branching, merging, pull requests work naturally"
      - "Git blame shows who changed what when"
      - "Rollback is git revert"

  file_organization:
    recommended_structure: |
      project-root/
      ├── bundles/
      │   ├── my-project.yaml
      │   └── company-standards.yaml
      └── scds/
          ├── meta/
          │   └── (meta-tier SCDs)
          ├── standards/
          │   └── (standards-tier SCDs)
          └── project/
              ├── architecture.yaml
              ├── conventions.yaml
              └── tech-stack.yaml

    conventions:
      - "Bundles in /bundles/ directory"
      - "SCDs in /scds/ directory, organized by tier"
      - "YAML file extension (.yaml or .yml)"
      - "Descriptive filenames (kebab-case recommended)"
